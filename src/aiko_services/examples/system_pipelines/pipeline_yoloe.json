{
  "version": 0,
  "name":    "p_yoloe",
  "runtime": "python",

  "graph": ["(Base64ToImages YoloDetector ImageOverlay ImagesToBase64 Metrics)"],

  "elements": [ 
    { "name":   "Base64ToImages",
      "input":  [{"name": "base64_data", "type": "base64_data"}],
      "output": [{"name": "images",      "type": "[image]"}],
      "deploy": {
        "local": {"module": "aiko_services.examples.system_pipelines.elements"}
      }
    },
    { "name":   "YoloDetector",
      "parameters": {
        "model": "yoloe-11s-seg.pt",  "#": "model sizes: yoloe-11[sml]-seg.pt",
        "names": "(glasses person)"
      },
      "input":  [{"name": "images",  "type": "[image]"}],
      "output": [{"name": "overlay", "type": "[overlay]"}],
      "deploy": {
        "local": {"module": "aiko_services.examples.yolo.yolo"}
      }
    },
    { "name":   "ImageOverlay",
      "input":  [{"name": "images",  "type": "[image]"},
                 {"name": "overlay", "type": "[overlay]"}],
      "output": [{"name": "images",  "type": "[image]"}],
      "deploy": {
        "local": {"module": "aiko_services.elements.media.image_io"}
      }
    },
    { "name":   "ImagesToBase64",
      "input":  [{"name": "images",      "type": "[image]"}],
      "output": [{"name": "base64_data", "type": "base64_data"}],
      "deploy": {                                
        "local": {"module": "aiko_services.examples.system_pipelines.elements"}
      }
    },
    { "name":   "Metrics",
      "parameters": {"enable": true, "rate": 1},
      "input":  [],
      "output": [{"name": "base64_data", "type": "[base64_data]"}],
      "deploy": {
        "local": { "module": "aiko_services.elements.observe.elements" }
      }
    }
  ]
}
